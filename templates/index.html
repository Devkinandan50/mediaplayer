<!DOCTYPE html>
<html>


<body>
  <h1>Live streaming</h1>
  <div>

    <img src="{{ url_for('video') }}" width="50%" />
  </div>

  <div id="my-data"></div>

  <!-- <ul>
      {% for item in params %}
          <li>{{ item }}</li>
      {% endfor %}
  </ul> -->

</body>


<script type=text/javascript>
          const myDataElement = document.getElementById("my-data");

          setInterval(function() {

            fetch('http://127.0.0.1:5000/data')
              .then(response => response.json())
              .then(data => {
                console.log(data);
                myDataElement.innerHTML = `The data is ${data}`;
                
              })
              .catch(error => {
                console.error(error);
            });
          
            
        
          }, 500);
      
        </script>
</html>